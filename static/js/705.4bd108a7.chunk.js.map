{"version":3,"file":"static/js/705.4bd108a7.chunk.js","mappings":"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","sources":["../node_modules/@grapecity/activereports-react/lib/Designer.js","Modules/ReportDesigner.jsx","../node_modules/@grapecity/activereports/reportviewer/index.js"],"sourcesContent":["var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nimport * as React from 'react';\nimport { Component } from 'react';\nimport * as ArDesignerNs from '@grapecity/activereports/reportdesigner';\n/// ARJS Designer wrapper component\nexport class Designer extends Component {\n    constructor() {\n        super(...arguments);\n        this._host = React.createRef();\n        this._eventsRegistry = { documentChanged: null };\n    }\n    componentDidMount() {\n        return __awaiter(this, void 0, void 0, function* () {\n            if (!this._designer) {\n                this._designer = new ArDesignerNs.Designer(this._host.current, {\n                    language: this.props.language,\n                    disableOpenSaveHotkeys: this.props.hotkeysEnabled === false,\n                    customInitTemplates: this.props.customInitTemplates,\n                });\n            }\n            yield this._designer.setResourceProvider({\n                getImagesList: () => __awaiter(this, void 0, void 0, function* () { var _a; return (_a = this.props.imageList) !== null && _a !== void 0 ? _a : []; }),\n                getReportsList: () => __awaiter(this, void 0, void 0, function* () { var _b; return (_b = this.props.reportList) !== null && _b !== void 0 ? _b : []; }),\n                getThemesList: () => __awaiter(this, void 0, void 0, function* () { var _c; return (_c = this.props.themeList) !== null && _c !== void 0 ? _c : []; }),\n            });\n            yield this.applyProps({}, this.props);\n        });\n    }\n    componentDidUpdate(prevProps) {\n        return __awaiter(this, void 0, void 0, function* () {\n            if (!this._designer)\n                return;\n            yield this.applyProps(prevProps, this.props);\n            if (prevProps.language !== this.props.language) {\n                console.warn(\"Changing 'language' is not supported.\");\n            }\n            if (prevProps.hotkeysEnabled !== this.props.hotkeysEnabled) {\n                console.warn(\"Changing 'hotkeysEnabled' is not supported.\");\n            }\n            if (!this.areDeepEqual(prevProps.customInitTemplates, this.props.customInitTemplates)) {\n                console.warn(\"Changing 'customInitTemplates' is not supported.\");\n            }\n        });\n    }\n    areDeepEqual(p1, p2) {\n        return JSON.stringify(p1) === JSON.stringify(p2);\n    }\n    isReportDef(report) {\n        var _a;\n        return !!((_a = report) === null || _a === void 0 ? void 0 : _a.definition);\n    }\n    shouldReportUpdate(curr, prev) {\n        return ((curr === null || curr === void 0 ? void 0 : curr.id) !== (prev === null || prev === void 0 ? void 0 : prev.id) || (curr === null || curr === void 0 ? void 0 : curr.displayName) !== (prev === null || prev === void 0 ? void 0 : prev.displayName) || (this.isReportDef(curr) && curr.definition) !== (this.isReportDef(prev) && prev.definition));\n    }\n    applyProps(prevProps, props) {\n        var _a, _b;\n        return __awaiter(this, void 0, void 0, function* () {\n            const designer = this._designer;\n            if (!designer) {\n                // should never be called\n                console.warn(\"Designer is not initialized yet.\");\n                return;\n            }\n            if (this.shouldReportUpdate(props.report, prevProps.report)) {\n                if (props.report)\n                    yield designer.setReport(props.report, \"override\");\n                else\n                    yield designer.createReport({ reportType: 'CPL' }, \"override\");\n            }\n            ;\n            if (props.dataSources !== prevProps.dataSources) {\n                yield designer.setDataSourceTemplates((_a = props.dataSources) !== null && _a !== void 0 ? _a : []);\n            }\n            if (props.fontSet !== prevProps.fontSet) {\n                designer.fontSet = (_b = props.fontSet) !== null && _b !== void 0 ? _b : 'all';\n            }\n            if (this.props.documentChanged && !this._eventsRegistry.documentChanged) {\n                this._eventsRegistry.documentChanged = designer.documentChanged.register(e => { var _a, _b; return (_b = (_a = this.props).documentChanged) === null || _b === void 0 ? void 0 : _b.call(_a, e); });\n            }\n            else if (!this.props.documentChanged && this._eventsRegistry.documentChanged) {\n                this._eventsRegistry.documentChanged();\n                this._eventsRegistry.documentChanged = null;\n            }\n            if (props.onCreate !== prevProps.onCreate ||\n                props.onOpen !== prevProps.onOpen ||\n                props.onOpenFileMenu !== prevProps.onOpenFileMenu ||\n                props.onRender !== prevProps.onRender ||\n                props.onSave !== prevProps.onSave ||\n                props.onSaveAs !== prevProps.onSaveAs) {\n                yield designer.setActionHandlers({\n                    onCreate: props.onCreate,\n                    onOpen: props.onOpen,\n                    onOpenFileMenu: props.onOpenFileMenu,\n                    onRender: props.onRender,\n                    onSave: props.onSave,\n                    onSaveAs: props.onSaveAs,\n                });\n            }\n        });\n    }\n    /**\n     * Sets report.\n     * @param report Report info to load.\n     * @param whenDirty Action to perform in case of 'dirty' report.\n     * @param isDirtyInitial Initial value for 'dirty' state after load.\n     */\n    setReport(report, whenDirty, isDirtyInitial) {\n        if (this._designer == null)\n            throw new Error(\"Designer is not initialized yet\");\n        return this._designer.setReport(report, whenDirty, isDirtyInitial);\n    }\n    /**\n     * Gets report.\n     * @returns Promise with current report information.\n     */\n    getReport() {\n        if (!this._designer)\n            throw new Error(\"Designer is not initialized yet\");\n        return this._designer.getReport();\n    }\n    /**\n     * Creates report.\n     * @param reportInfo Report info to load.\n     * @param whenDirty Action to perform in case of 'dirty' report.\n     */\n    createReport(reportInfo, whenDirty) {\n        if (this._designer == null)\n            throw new Error(\"Designer is not initialized yet\");\n        return this._designer.createReport(reportInfo, whenDirty);\n        ;\n    }\n    /**\n     * Process command.\n     * @param cmd Command name.\n     */\n    processCommand(cmd) {\n        if (!this._designer)\n            throw new Error(\"Designer is not initialized yet\");\n        return this._designer.processCommand(cmd);\n    }\n    render() {\n        return React.createElement(\"div\", { ref: this._host, style: { height: \"100%\" } });\n    }\n}\n","import { Designer } from \"@grapecity/activereports-react\";\r\nimport { useEffect, useRef } from \"react\";\r\nimport \"./Styles/Designer.css\";\r\nimport { MethodType, RequestType, sendRequest } from \"../Server/server\";\r\nimport { useModal } from \"../Modules/modal/Modal\";\r\nimport { ACTION as MODAL_ACTION } from \"../Modules/modal/Action\";\r\nimport { RESPONSE } from \"../Server/responce\";\r\nimport { ACTION } from \"./snackbar/Actions\";\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport newFile from \"../utils/newFile.json\";\r\nimport { useSnackBar } from \"./snackbar/SnackBar\";\r\nimport { useUser } from \"./User/userContext\";\r\n\r\nfunction ReportDesigner() {\r\n  console.log(\"designer renders\");\r\n  const designerRef = useRef();\r\n  const snackbar = useSnackBar();\r\n  const { asyncDispatchModal, dispatchModal } = useModal();\r\n\r\n  const navigate = useNavigate();\r\n  const { user } = useUser();\r\n\r\n  useEffect(() => {\r\n    let url = new URLSearchParams(window.location.search);\r\n    let fileId = url.get(\"id\");\r\n    if (fileId !== null && fileId !== undefined ) {\r\n      try {\r\n        let fileString = sessionStorage.getItem(fileId);\r\n        designerRef.current.setReport(JSON.parse(fileString));\r\n      } catch (e) {\r\n        console.log(e);\r\n      }\r\n    }\r\n    else \r\n    designerRef.current.setReport(newFile);\r\n   \r\n  }, []);\r\n\r\n  //open new report\r\n  const openReport = () => {\r\n    //Open a modal with all the saved file in it\r\n    dispatchModal({ type: MODAL_ACTION.OPEN_FILES, payload: designerRef });\r\n  };\r\n\r\n//save new file\r\nconst saveNewFile = async (newFile) => {\r\n  const fileName = sessionStorage.getItem(\"fileName\");\r\n  \r\n  if (fileName !== null) {\r\n    sessionStorage.removeItem(\"fileName\");\r\n    return Promise.resolve({\r\n      id: newFile.id,\r\n      displayName: fileName,\r\n    });\r\n  } else {\r\n    return new Promise((resolve) => {\r\n      setTimeout(async () => {\r\n        const result = await saveNewFile(newFile);\r\n        resolve(result);\r\n      }, 1000);\r\n    });\r\n  }\r\n};\r\n\r\n//Save the file\r\nconst onSave = async (newReport) => {\r\n  console.log(JSON.stringify(newReport));\r\n  let id = 0;\r\n  //Check if the report being saved is a new report or an old one\r\n  if (newReport.displayName === \"NewFile\") {\r\n    //if it's a new report\r\n    //set unique report id\r\n    user.files.forEach((file)=>id += parseInt(file.id));\r\n    newReport.id = id;     \r\n    await asyncDispatchModal({\r\n      type: MODAL_ACTION.SAVE_NEW_FILE,\r\n      payload: newFile,\r\n    });\r\n    return await saveNewFile(newReport);\r\n    \r\n  } else {\r\n    // else if it's an old report\r\n    const response = sendRequest(\r\n      MethodType.PUT,\r\n      RequestType.SAVE_FILE,\r\n      newReport\r\n    );\r\n    //if file saved successfully\r\n    if (response.status === RESPONSE.FILE_SAVED_SUCCESSFUL)\r\n      snackbar.dispatch(ACTION.FILE_SAVED);\r\n\r\n    //set the new file from db\r\n    newReport = response.data.files.find((file) => file.id === newReport.id);\r\n  }\r\n\r\n \r\n  return Promise.resolve({\r\n    id: newReport.id,\r\n    displayName: newReport.displayName,\r\n  });\r\n};\r\n\r\n  //to view the report in the viewer\r\n  const onReportPreview = (modifiedReport) => {\r\n    const modifiedFile = JSON.stringify(modifiedReport);\r\n    try {\r\n      sessionStorage.setItem(modifiedReport.id, modifiedFile);\r\n      navigate(`/Viewer?id=${modifiedReport.id}`);\r\n    } catch (e) {\r\n      console.log(e);\r\n    }\r\n  };\r\n  return (\r\n    <div id=\"designer-host\">\r\n      <Designer\r\n        // dataSources={dataSources}\r\n        onSave={onSave}\r\n        ref={designerRef}\r\n        onRender={onReportPreview}\r\n        onOpen={openReport}\r\n        onCreate={()=> Promise.resolve({...newFile})}\r\n      />\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default ReportDesigner;\r\n","module.exports = require('../lib/node_modules/@grapecity/ar-js-viewer.js');"],"names":["__awaiter","thisArg","_arguments","P","generator","Promise","resolve","reject","fulfilled","value","step","next","e","rejected","result","done","then","apply","Designer","_Component","_inherits","_super","_createSuper","_this","_classCallCheck","arguments","_host","React","_eventsRegistry","documentChanged","_createClass","key","this","_regeneratorRuntime","mark","_callee4","_this2","wrap","_context4","prev","_designer","ArDesignerNs","current","language","props","disableOpenSaveHotkeys","hotkeysEnabled","customInitTemplates","setResourceProvider","getImagesList","_callee","_a","_context","abrupt","imageList","stop","getReportsList","_callee2","_b","_context2","reportList","getThemesList","_callee3","_c","_context3","themeList","applyProps","prevProps","_callee5","_context5","console","warn","areDeepEqual","p1","p2","JSON","stringify","report","definition","curr","id","displayName","isReportDef","_callee6","designer","_this3","_context6","shouldReportUpdate","setReport","createReport","reportType","dataSources","setDataSourceTemplates","fontSet","register","call","onCreate","onOpen","onOpenFileMenu","onRender","onSave","onSaveAs","setActionHandlers","whenDirty","isDirtyInitial","Error","getReport","reportInfo","cmd","processCommand","ref","style","height","Component","log","designerRef","useRef","snackbar","useSnackBar","_useModal","useModal","asyncDispatchModal","dispatchModal","navigate","useNavigate","user","useUser","useEffect","fileId","URLSearchParams","window","location","search","get","undefined","fileString","sessionStorage","getItem","parse","newFile","saveNewFile","_ref","_asyncToGenerator","fileName","removeItem","setTimeout","sent","_x","_ref3","newReport","response","files","forEach","file","parseInt","type","MODAL_ACTION","payload","sendRequest","MethodType","RequestType","status","RESPONSE","dispatch","ACTION","data","find","_x2","_jsx","children","modifiedReport","modifiedFile","setItem","concat","_objectSpread","module"],"sourceRoot":""}